import{a as ut}from"./chunk-C6IFH2AY.js";import{a as _t,b as ft}from"./chunk-N465ETK5.js";import{a as et,b as it,c as nt,d as at,e as ot,f as rt,g as mt,h as lt,i as dt,j as ct,k as pt,l as st}from"./chunk-KOXJSXBS.js";import"./chunk-EF2XRC37.js";import"./chunk-5SHJWNIK.js";import{b as X,c as Y}from"./chunk-AM5E43BK.js";import{a as V,c as J,g as K,h as U}from"./chunk-RKG5H5Y5.js";import"./chunk-DABKM3GA.js";import{a as Z,b as tt}from"./chunk-5JXYUGER.js";import"./chunk-TR43IUZ2.js";import"./chunk-ZXLXF7DL.js";import{a as A,c as W,g as G}from"./chunk-GQNV5PIV.js";import{b as Q,f as $,i as j,q}from"./chunk-WSFNJNB2.js";import{$a as E,Ab as F,Bb as R,Da as n,Ea as e,Fa as u,Ga as c,Ha as p,Lb as k,Ma as h,Oa as b,Qc as z,Rc as N,S,Sc as O,Tc as B,Uc as H,Wa as o,Xa as _,Ya as y,ab as L,bb as v,db as T,eb as w,fa as r,ga as x,hb as g,ib as C,jb as D,sa as m,ua as d,wb as I,yb as P}from"./chunk-GX3TN4JH.js";import"./chunk-35PI25VP.js";var ht=()=>[10,25,50];function gt(t,a){t&1&&(n(0,"div",14),u(1,"mat-spinner",15),e())}function Mt(t,a){t&1&&(n(0,"th",29),o(1,"Name"),e())}function Ct(t,a){if(t&1&&(n(0,"td",30),o(1),e()),t&2){let i=a.$implicit;r(),_(i.name)}}function St(t,a){t&1&&(n(0,"th",29),o(1,"Generic Name"),e())}function xt(t,a){if(t&1&&(n(0,"td",30),o(1),e()),t&2){let i=a.$implicit;r(),_(i.genericName)}}function bt(t,a){t&1&&(n(0,"th",29),o(1,"Category"),e())}function yt(t,a){if(t&1&&(n(0,"td",30),o(1),g(2,"titlecase"),e()),t&2){let i=a.$implicit;r(),_(C(2,1,i.category))}}function Et(t,a){t&1&&(n(0,"th",29),o(1,"Form"),e())}function Lt(t,a){if(t&1&&(n(0,"td",30),o(1),g(2,"titlecase"),e()),t&2){let i=a.$implicit;r(),_(C(2,1,i.dosageForm))}}function vt(t,a){t&1&&(n(0,"th",29),o(1,"Strength"),e())}function Tt(t,a){if(t&1&&(n(0,"td",30),o(1),e()),t&2){let i=a.$implicit;r(),_(i.strength)}}function wt(t,a){t&1&&(n(0,"th",29),o(1,"Price"),e())}function Dt(t,a){if(t&1&&(n(0,"td",30),o(1),g(2,"number"),e()),t&2){let i=a.$implicit;r(),y("$",D(2,1,i.unitPrice,"1.2-2"),"")}}function It(t,a){t&1&&(n(0,"th",29),o(1,"Rx Required"),e())}function Pt(t,a){t&1&&(n(0,"mat-icon",33),o(1,"check"),e())}function Ft(t,a){t&1&&(n(0,"mat-icon",34),o(1,"remove"),e())}function Rt(t,a){if(t&1&&(n(0,"td",30),m(1,Pt,2,0,"mat-icon",31)(2,Ft,2,0,"mat-icon",32),e()),t&2){let i=a.$implicit;r(),d("ngIf",i.requiresPrescription),r(),d("ngIf",!i.requiresPrescription)}}function kt(t,a){t&1&&(n(0,"th",29),o(1,"Actions"),e())}function zt(t,a){t&1&&(n(0,"td",30)(1,"button",35)(2,"mat-icon"),o(3,"edit"),e()()())}function Nt(t,a){t&1&&u(0,"tr",36)}function Ot(t,a){t&1&&u(0,"tr",37)}function Bt(t,a){if(t&1&&(n(0,"table",16),c(1,17),m(2,Mt,2,0,"th",18)(3,Ct,2,1,"td",19),p(),c(4,20),m(5,St,2,0,"th",18)(6,xt,2,1,"td",19),p(),c(7,21),m(8,bt,2,0,"th",18)(9,yt,3,3,"td",19),p(),c(10,22),m(11,Et,2,0,"th",18)(12,Lt,3,3,"td",19),p(),c(13,23),m(14,vt,2,0,"th",18)(15,Tt,2,1,"td",19),p(),c(16,24),m(17,wt,2,0,"th",18)(18,Dt,3,4,"td",19),p(),c(19,25),m(20,It,2,0,"th",18)(21,Rt,3,2,"td",19),p(),c(22,26),m(23,kt,2,0,"th",18)(24,zt,4,0,"td",19),p(),m(25,Nt,1,0,"tr",27)(26,Ot,1,0,"tr",28),e()),t&2){let i=b();d("dataSource",i.dataSource),r(25),d("matHeaderRowDef",i.displayedColumns),r(),d("matRowDefColumns",i.displayedColumns)}}var le=(()=>{class t{constructor(i){this.pharmacyService=i,this.displayedColumns=["name","genericName","category","dosageForm","strength","unitPrice","prescription","actions"],this.dataSource=new st,this.isLoading=!1,this.searchQuery="",this.pageSize=10,this.totalElements=0}ngOnInit(){this.loadMedications()}loadMedications(i=0){this.isLoading=!0,this.pharmacyService.getMedications(i,this.pageSize).subscribe({next:s=>{this.dataSource.data=s.content,this.totalElements=s.totalElements,this.isLoading=!1},error:()=>{this.isLoading=!1}})}search(){if(!this.searchQuery.trim()){this.loadMedications();return}this.isLoading=!0,this.pharmacyService.searchMedications(this.searchQuery).subscribe({next:i=>{this.dataSource.data=i,this.totalElements=i.length,this.isLoading=!1},error:()=>{this.isLoading=!1}})}onPageChange(i){this.pageSize=i.pageSize,this.loadMedications(i.pageIndex)}static{this.\u0275fac=function(s){return new(s||t)(x(ut))}}static{this.\u0275cmp=S({type:t,selectors:[["app-medication-list"]],standalone:!0,features:[T],decls:27,vars:7,consts:[[1,"container"],[1,"page-header-row"],[1,"nav-buttons"],["mat-button","","routerLink","/pharmacy/prescriptions"],["mat-button","","routerLink","/pharmacy/inventory"],["mat-raised-button","","color","primary"],[1,"search-bar"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Name or generic name",3,"ngModelChange","keyup.enter","ngModel"],["matPrefix",""],["mat-raised-button","",3,"click"],["class","loading-spinner",4,"ngIf"],["mat-table","","class","full-width",3,"dataSource",4,"ngIf"],[3,"page","length","pageSize","pageSizeOptions"],[1,"loading-spinner"],["diameter","40"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","genericName"],["matColumnDef","category"],["matColumnDef","dosageForm"],["matColumnDef","strength"],["matColumnDef","unitPrice"],["matColumnDef","prescription"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["color","warn",4,"ngIf"],["color","primary",4,"ngIf"],["color","warn"],["color","primary"],["mat-icon-button",""],["mat-header-row",""],["mat-row",""]],template:function(s,l){s&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),o(3,"Medications"),e(),n(4,"div",2)(5,"button",3),o(6,"Prescriptions"),e(),n(7,"button",4),o(8,"Inventory"),e(),n(9,"button",5)(10,"mat-icon"),o(11,"add"),e(),o(12," Add Medication "),e()()(),n(13,"mat-card")(14,"mat-card-content")(15,"div",6)(16,"mat-form-field",7)(17,"mat-label"),o(18,"Search medications"),e(),n(19,"input",8),v("ngModelChange",function(f){return L(l.searchQuery,f)||(l.searchQuery=f),f}),h("keyup.enter",function(){return l.search()}),e(),n(20,"mat-icon",9),o(21,"search"),e()(),n(22,"button",10),h("click",function(){return l.search()}),o(23,"Search"),e()(),m(24,gt,2,0,"div",11)(25,Bt,27,3,"table",12),n(26,"mat-paginator",13),h("page",function(f){return l.onPageChange(f)}),e()()()()),s&2&&(r(19),E("ngModel",l.searchQuery),r(5),d("ngIf",l.isLoading),r(),d("ngIf",!l.isLoading),r(),d("length",l.totalElements)("pageSize",l.pageSize)("pageSizeOptions",w(6,ht)))},dependencies:[R,I,F,P,k,q,Q,$,j,pt,et,nt,mt,at,it,lt,ot,rt,dt,ct,ft,_t,G,A,W,O,z,N,H,B,Y,X,K,V,J,U,tt,Z],styles:[".page-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.nav-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.search-bar[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;margin-bottom:16px}.search-field[_ngcontent-%COMP%]{flex:1;max-width:400px}.full-width[_ngcontent-%COMP%]{width:100%}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}"]})}}return t})();export{le as MedicationListComponent};
