import{a as K}from"./chunk-7WQIBAX7.js";import{a as de,b as pe}from"./chunk-CJI4PPME.js";import"./chunk-5SHJWNIK.js";import{b as oe,c as me}from"./chunk-AM5E43BK.js";import{a as te,b as re,c as ie,d as ne,g as ae}from"./chunk-RKG5H5Y5.js";import"./chunk-DABKM3GA.js";import{a as se,b as le}from"./chunk-5JXYUGER.js";import"./chunk-TR43IUZ2.js";import"./chunk-ZXLXF7DL.js";import{a as Q,b as W,c as X,d as Y,e as Z,f as $,g as ee}from"./chunk-GQNV5PIV.js";import{b as A,d as s,f as D,g as G,j as U,l as V,o as H,p as z,r as J}from"./chunk-WSFNJNB2.js";import{Bb as N,Da as t,Ea as e,Fa as u,Kb as q,Lb as T,Ma as g,Oa as w,Qc as k,Rc as L,S as P,Sc as O,Tc as B,Uc as j,Wa as n,Xa as _,Ya as I,db as F,fa as a,ga as c,sa as d,ua as o,wb as R}from"./chunk-GX3TN4JH.js";import{c as y}from"./chunk-35PI25VP.js";function ue(r,m){r&1&&(t(0,"mat-error"),n(1," First name is required "),e())}function fe(r,m){r&1&&(t(0,"mat-error"),n(1," Last name is required "),e())}function ce(r,m){r&1&&(t(0,"mat-error"),n(1," Username is required "),e())}function ge(r,m){r&1&&(t(0,"mat-error"),n(1," Username must be at least 4 characters "),e())}function _e(r,m){r&1&&(t(0,"mat-error"),n(1," Email is required "),e())}function he(r,m){r&1&&(t(0,"mat-error"),n(1," Please enter a valid email "),e())}function Ce(r,m){r&1&&(t(0,"mat-error"),n(1," Password is required "),e())}function Se(r,m){r&1&&(t(0,"mat-error"),n(1," Password must be at least 8 characters "),e())}function Me(r,m){r&1&&(t(0,"mat-error"),n(1," Please confirm your password "),e())}function ve(r,m){if(r&1&&(t(0,"div",19),n(1),e()),r&2){let f=w();a(),I(" ",f.errorMessage," ")}}function xe(r,m){r&1&&u(0,"mat-spinner",20)}function Ee(r,m){r&1&&(t(0,"span"),n(1,"Create Account"),e())}var ze=(()=>{class r{constructor(f,p,i,l){this.fb=f,this.authService=p,this.router=i,this.snackBar=l,this.isLoading=!1,this.hidePassword=!0,this.hideConfirmPassword=!0,this.errorMessage="",this.registerForm=this.fb.group({firstName:["",s.required],lastName:["",s.required],username:["",[s.required,s.minLength(4)]],email:["",[s.required,s.email]],password:["",[s.required,s.minLength(8)]],confirmPassword:["",s.required]})}onSubmit(){if(this.registerForm.invalid)return;if(this.registerForm.value.password!==this.registerForm.value.confirmPassword){this.errorMessage="Passwords do not match";return}this.isLoading=!0,this.errorMessage="";let i=this.registerForm.value,{confirmPassword:f}=i,p=y(i,["confirmPassword"]);this.authService.register(p).subscribe({next:()=>{this.snackBar.open("Registration successful! Please login.","Close",{duration:3e3}),this.router.navigate(["/auth/login"])},error:l=>{this.isLoading=!1,this.errorMessage=l.error?.message||"Registration failed. Please try again."}})}static{this.\u0275fac=function(p){return new(p||r)(c(z),c(K),c(q),c(de))}}static{this.\u0275cmp=P({type:r,selectors:[["app-register"]],standalone:!0,features:[F],decls:66,vars:18,consts:[[1,"register-container"],[1,"register-card"],[3,"ngSubmit","formGroup"],[1,"form-row"],["appearance","outline"],["matInput","","formControlName","firstName"],[4,"ngIf"],["matInput","","formControlName","lastName"],["appearance","outline",1,"form-field-full"],["matInput","","formControlName","username"],["matPrefix",""],["matInput","","formControlName","email","type","email"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","confirmPassword",3,"type"],["class","error-message",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"submit-btn",3,"disabled"],["diameter","20",4,"ngIf"],["routerLink","/auth/login"],[1,"error-message"],["diameter","20"]],template:function(p,i){if(p&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),n(4,"Create Account"),e(),t(5,"mat-card-subtitle"),n(6,"Register for IHMS Portal"),e()(),t(7,"mat-card-content")(8,"form",2),g("ngSubmit",function(){return i.onSubmit()}),t(9,"div",3)(10,"mat-form-field",4)(11,"mat-label"),n(12,"First Name"),e(),u(13,"input",5),d(14,ue,2,0,"mat-error",6),e(),t(15,"mat-form-field",4)(16,"mat-label"),n(17,"Last Name"),e(),u(18,"input",7),d(19,fe,2,0,"mat-error",6),e()(),t(20,"mat-form-field",8)(21,"mat-label"),n(22,"Username"),e(),u(23,"input",9),t(24,"mat-icon",10),n(25,"person"),e(),d(26,ce,2,0,"mat-error",6)(27,ge,2,0,"mat-error",6),e(),t(28,"mat-form-field",8)(29,"mat-label"),n(30,"Email"),e(),u(31,"input",11),t(32,"mat-icon",10),n(33,"email"),e(),d(34,_e,2,0,"mat-error",6)(35,he,2,0,"mat-error",6),e(),t(36,"mat-form-field",8)(37,"mat-label"),n(38,"Password"),e(),u(39,"input",12),t(40,"mat-icon",10),n(41,"lock"),e(),t(42,"button",13),g("click",function(){return i.hidePassword=!i.hidePassword}),t(43,"mat-icon"),n(44),e()(),d(45,Ce,2,0,"mat-error",6)(46,Se,2,0,"mat-error",6),e(),t(47,"mat-form-field",8)(48,"mat-label"),n(49,"Confirm Password"),e(),u(50,"input",14),t(51,"mat-icon",10),n(52,"lock"),e(),t(53,"button",13),g("click",function(){return i.hideConfirmPassword=!i.hideConfirmPassword}),t(54,"mat-icon"),n(55),e()(),d(56,Me,2,0,"mat-error",6),e(),d(57,ve,2,1,"div",15),t(58,"button",16),d(59,xe,1,0,"mat-spinner",17)(60,Ee,2,0,"span",6),e()()(),t(61,"mat-card-actions")(62,"p"),n(63,"Already have an account? "),t(64,"a",18),n(65,"Sign in"),e()()()()()),p&2){let l,h,C,S,M,v,x,E,b;a(8),o("formGroup",i.registerForm),a(6),o("ngIf",(l=i.registerForm.get("firstName"))==null?null:l.hasError("required")),a(5),o("ngIf",(h=i.registerForm.get("lastName"))==null?null:h.hasError("required")),a(7),o("ngIf",(C=i.registerForm.get("username"))==null?null:C.hasError("required")),a(),o("ngIf",(S=i.registerForm.get("username"))==null?null:S.hasError("minlength")),a(7),o("ngIf",(M=i.registerForm.get("email"))==null?null:M.hasError("required")),a(),o("ngIf",(v=i.registerForm.get("email"))==null?null:v.hasError("email")),a(4),o("type",i.hidePassword?"password":"text"),a(5),_(i.hidePassword?"visibility_off":"visibility"),a(),o("ngIf",(x=i.registerForm.get("password"))==null?null:x.hasError("required")),a(),o("ngIf",(E=i.registerForm.get("password"))==null?null:E.hasError("minlength")),a(4),o("type",i.hideConfirmPassword?"password":"text"),a(5),_(i.hideConfirmPassword?"visibility_off":"visibility"),a(),o("ngIf",(b=i.registerForm.get("confirmPassword"))==null?null:b.hasError("required")),a(),o("ngIf",i.errorMessage),a(),o("disabled",i.isLoading),a(),o("ngIf",i.isLoading),a(),o("ngIf",!i.isLoading)}},dependencies:[N,R,J,U,A,D,G,V,H,T,ee,Q,Z,X,$,Y,W,me,oe,ae,te,re,ie,ne,O,k,L,j,B,le,se,pe],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:20px}.register-card[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:20px}mat-card-header[_ngcontent-%COMP%]{justify-content:center;margin-bottom:20px}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.form-field-full[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.submit-btn[_ngcontent-%COMP%]{width:100%;height:48px}.error-message[_ngcontent-%COMP%]{color:#f44336;margin-bottom:16px;text-align:center}mat-card-actions[_ngcontent-%COMP%]{text-align:center}"]})}}return r})();export{ze as RegisterComponent};
