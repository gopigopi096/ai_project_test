import{a as Mt}from"./chunk-FE24GOPJ.js";import{a as ft}from"./chunk-3SVYOAF2.js";import{a as ht,b as St}from"./chunk-N465ETK5.js";import{a as it,b as at,c as ot,d as mt,e as pt,f as lt,g as rt,h as st,i as dt,j as ct,k as _t,l as ut}from"./chunk-KOXJSXBS.js";import{a as Ct,b as gt}from"./chunk-EF2XRC37.js";import"./chunk-5SHJWNIK.js";import{a as Y,g as Z,h as tt}from"./chunk-RKG5H5Y5.js";import"./chunk-DABKM3GA.js";import{a as et,b as nt}from"./chunk-5JXYUGER.js";import"./chunk-TR43IUZ2.js";import"./chunk-ZXLXF7DL.js";import{a as Q,c as U,g as X}from"./chunk-GQNV5PIV.js";import{f as q,i as J,q as K}from"./chunk-WSFNJNB2.js";import{$a as D,Bb as z,Da as n,Ea as i,Fa as C,Ga as d,Ha as c,Ja as y,Lb as B,Ma as g,Mc as H,Oa as u,Qc as $,Rc as j,S as x,Sc as G,Tc as V,Uc as W,W as E,Wa as a,X as L,Xa as h,Ya as v,Za as w,ab as T,bb as I,db as P,eb as F,fa as m,fb as S,ga as A,hb as M,ib as b,sa as r,ua as p,ub as N,wb as O,yb as R,zb as k}from"./chunk-GX3TN4JH.js";import"./chunk-35PI25VP.js";var bt=()=>[5,10,25],xt=t=>["/appointments",t],Et=t=>["/appointments",t,"edit"];function Lt(t,o){t&1&&(n(0,"div",14),C(1,"mat-spinner",15),i())}function At(t,o){t&1&&(n(0,"th",27),a(1,"Date & Time"),i())}function yt(t,o){if(t&1&&(n(0,"td",28),a(1),M(2,"date"),i()),t&2){let e=o.$implicit;m(),w(" ",b(2,2,e.appointmentDate)," ",e.appointmentTime," ")}}function vt(t,o){t&1&&(n(0,"th",27),a(1,"Patient"),i())}function wt(t,o){if(t&1&&(n(0,"td",28),a(1),i()),t&2){let e=o.$implicit;m(),h(e.patientName)}}function Dt(t,o){t&1&&(n(0,"th",27),a(1,"Doctor"),i())}function Tt(t,o){if(t&1&&(n(0,"td",28),a(1),i()),t&2){let e=o.$implicit;m(),h(e.doctorName)}}function It(t,o){t&1&&(n(0,"th",27),a(1,"Type"),i())}function Pt(t,o){if(t&1&&(n(0,"td",28),a(1),M(2,"titlecase"),i()),t&2){let e=o.$implicit;m(),h(b(2,1,e.type))}}function Ft(t,o){t&1&&(n(0,"th",27),a(1,"Status"),i())}function Nt(t,o){if(t&1&&(n(0,"td",28)(1,"span",29),a(2),i()()),t&2){let e=o.$implicit;m(),p("ngClass",e.status.toLowerCase()),m(),v(" ",e.status," ")}}function Ot(t,o){t&1&&(n(0,"th",27),a(1,"Actions"),i())}function Rt(t,o){if(t&1&&(n(0,"button",30)(1,"mat-icon"),a(2,"edit"),i()()),t&2){let e=u().$implicit;p("routerLink",S(1,Et,e.id))}}function kt(t,o){if(t&1){let e=y();n(0,"button",33),g("click",function(){E(e);let l=u().$implicit,f=u(2);return L(f.cancelAppointment(l))}),n(1,"mat-icon"),a(2,"cancel"),i()()}}function zt(t,o){if(t&1&&(n(0,"td",28)(1,"button",30)(2,"mat-icon"),a(3,"visibility"),i()(),r(4,Rt,3,3,"button",31)(5,kt,3,0,"button",32),i()),t&2){let e=o.$implicit;m(),p("routerLink",S(3,xt,e.id)),m(3),p("ngIf",e.status==="PENDING"||e.status==="CONFIRMED"),m(),p("ngIf",e.status==="PENDING"||e.status==="CONFIRMED")}}function Bt(t,o){t&1&&C(0,"tr",34)}function Ht(t,o){t&1&&C(0,"tr",35)}function $t(t,o){if(t&1&&(n(0,"table",16),d(1,17),r(2,At,2,0,"th",18)(3,yt,3,4,"td",19),c(),d(4,20),r(5,vt,2,0,"th",18)(6,wt,2,1,"td",19),c(),d(7,21),r(8,Dt,2,0,"th",18)(9,Tt,2,1,"td",19),c(),d(10,22),r(11,It,2,0,"th",18)(12,Pt,3,3,"td",19),c(),d(13,23),r(14,Ft,2,0,"th",18)(15,Nt,3,2,"td",19),c(),d(16,24),r(17,Ot,2,0,"th",18)(18,zt,6,5,"td",19),c(),r(19,Bt,1,0,"tr",25)(20,Ht,1,0,"tr",26),i()),t&2){let e=u();p("dataSource",e.dataSource),m(19),p("matHeaderRowDef",e.displayedColumns),m(),p("matRowDefColumns",e.displayedColumns)}}var _e=(()=>{class t{constructor(e){this.appointmentService=e,this.displayedColumns=["date","patient","doctor","type","status","actions"],this.dataSource=new ut,this.isLoading=!1,this.statusFilter="",this.pageSize=10,this.totalElements=0}ngOnInit(){this.loadAppointments()}loadAppointments(e=0){this.isLoading=!0,this.appointmentService.getAppointments(e,this.pageSize).subscribe({next:s=>{this.dataSource.data=s.content,this.totalElements=s.totalElements,this.isLoading=!1},error:()=>{this.isLoading=!1}})}filterByStatus(){this.loadAppointments()}onPageChange(e){this.pageSize=e.pageSize,this.loadAppointments(e.pageIndex)}cancelAppointment(e){confirm("Are you sure you want to cancel this appointment?")&&this.appointmentService.cancelAppointment(e.id).subscribe({next:()=>{this.loadAppointments()}})}static{this.\u0275fac=function(s){return new(s||t)(A(Mt))}}static{this.\u0275cmp=x({type:t,selectors:[["app-appointment-list"]],standalone:!0,features:[P],decls:28,vars:7,consts:[[1,"container"],[1,"page-header-row"],["mat-raised-button","","color","primary","routerLink","/appointments/new"],[1,"filter-bar"],["appearance","outline"],[3,"ngModelChange","selectionChange","ngModel"],["value",""],["value","PENDING"],["value","CONFIRMED"],["value","COMPLETED"],["value","CANCELLED"],["class","loading-spinner",4,"ngIf"],["mat-table","","class","full-width",3,"dataSource",4,"ngIf"],[3,"page","length","pageSize","pageSizeOptions"],[1,"loading-spinner"],["diameter","40"],["mat-table","",1,"full-width",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","patient"],["matColumnDef","doctor"],["matColumnDef","type"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"status-chip",3,"ngClass"],["mat-icon-button","",3,"routerLink"],["mat-icon-button","",3,"routerLink",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(s,l){s&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Appointments"),i(),n(4,"button",2)(5,"mat-icon"),a(6,"event_available"),i(),a(7," New Appointment "),i()(),n(8,"mat-card")(9,"mat-card-content")(10,"div",3)(11,"mat-form-field",4)(12,"mat-label"),a(13,"Filter by Status"),i(),n(14,"mat-select",5),I("ngModelChange",function(_){return T(l.statusFilter,_)||(l.statusFilter=_),_}),g("selectionChange",function(){return l.filterByStatus()}),n(15,"mat-option",6),a(16,"All"),i(),n(17,"mat-option",7),a(18,"Pending"),i(),n(19,"mat-option",8),a(20,"Confirmed"),i(),n(21,"mat-option",9),a(22,"Completed"),i(),n(23,"mat-option",10),a(24,"Cancelled"),i()()()(),r(25,Lt,2,0,"div",11)(26,$t,21,3,"table",12),n(27,"mat-paginator",13),g("page",function(_){return l.onPageChange(_)}),i()()()()),s&2&&(m(14),D("ngModel",l.statusFilter),m(11),p("ngIf",l.isLoading),m(),p("ngIf",!l.isLoading),m(),p("length",l.totalElements)("pageSize",l.pageSize)("pageSizeOptions",F(6,bt)))},dependencies:[z,N,O,R,k,B,K,q,J,_t,it,ot,rt,mt,at,st,pt,lt,dt,ct,St,ht,X,Q,U,G,$,j,W,V,ft,nt,et,gt,Z,Y,Ct,H,tt],styles:[".page-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.filter-bar[_ngcontent-%COMP%]{margin-bottom:16px}.full-width[_ngcontent-%COMP%]{width:100%}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}.status-chip[_ngcontent-%COMP%]{padding:4px 12px;border-radius:16px;font-size:12px;font-weight:500}"]})}}return t})();export{_e as AppointmentListComponent};
