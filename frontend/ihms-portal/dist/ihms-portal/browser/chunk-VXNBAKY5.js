import{a as Y}from"./chunk-FE24GOPJ.js";import{a as W,b as X}from"./chunk-CJI4PPME.js";import"./chunk-5SHJWNIK.js";import"./chunk-DABKM3GA.js";import{a as Q,b as U}from"./chunk-5JXYUGER.js";import"./chunk-TR43IUZ2.js";import"./chunk-ZXLXF7DL.js";import{a as G,b as H,c as q,f as J,g as K}from"./chunk-GQNV5PIV.js";import{Bb as T,Da as n,Ea as e,Fa as h,Ib as O,Ja as _,Kb as B,Lb as V,Ma as v,Oa as c,Qc as R,Rc as L,S as E,Sc as j,Tc as F,Uc as z,Va as I,W as x,Wa as i,X as f,Xa as r,Ya as C,db as M,fa as o,fb as S,ga as s,hb as b,ib as A,jb as y,kb as D,sa as u,ua as l,ub as k,wb as P,yb as w,zb as N}from"./chunk-GX3TN4JH.js";import"./chunk-35PI25VP.js";var Z=a=>["/patients",a],$=a=>["/appointments",a,"edit"];function tt(a,d){if(a&1){let t=_();n(0,"button",19),v("click",function(){x(t);let m=c(3);return f(m.confirmAppointment())}),n(1,"mat-icon"),i(2,"check"),e(),i(3," Confirm "),e()}}function et(a,d){if(a&1){let t=_();n(0,"button",20),v("click",function(){x(t);let m=c(3);return f(m.completeAppointment())}),n(1,"mat-icon"),i(2,"done_all"),e(),i(3," Complete "),e()}}function nt(a,d){if(a&1){let t=_();n(0,"div",14)(1,"button",15)(2,"mat-icon"),i(3,"edit"),e(),i(4," Edit "),e(),u(5,tt,4,0,"button",16)(6,et,4,0,"button",17),n(7,"button",18),v("click",function(){x(t);let m=c(2);return f(m.cancelAppointment())}),n(8,"mat-icon"),i(9,"cancel"),e(),i(10," Cancel "),e()()}if(a&2){let t=c(2);o(),l("routerLink",S(3,$,t.appointment.id)),o(4),l("ngIf",t.appointment.status==="PENDING"),o(),l("ngIf",t.appointment.status==="CONFIRMED")}}function it(a,d){if(a&1&&(n(0,"div",9)(1,"label"),i(2,"Notes"),e(),n(3,"p"),i(4),e()()),a&2){let t=c(2);o(4),r(t.appointment.notes)}}function at(a,d){if(a&1&&(n(0,"div",2)(1,"div",3)(2,"div")(3,"button",4)(4,"mat-icon"),i(5,"arrow_back"),e()(),n(6,"h1",5),i(7,"Appointment Details"),e()(),u(8,nt,11,5,"div",6),e(),n(9,"div",7)(10,"mat-card")(11,"mat-card-header")(12,"mat-card-title"),i(13,"Appointment Information"),e()(),n(14,"mat-card-content")(15,"div",8)(16,"div",9)(17,"label"),i(18,"Date"),e(),n(19,"span"),i(20),b(21,"date"),e()(),n(22,"div",9)(23,"label"),i(24,"Time"),e(),n(25,"span"),i(26),e()(),n(27,"div",9)(28,"label"),i(29,"Duration"),e(),n(30,"span"),i(31),e()(),n(32,"div",9)(33,"label"),i(34,"Type"),e(),n(35,"span"),i(36),b(37,"titlecase"),e()(),n(38,"div",9)(39,"label"),i(40,"Status"),e(),n(41,"span",10),i(42),e()()()()(),n(43,"mat-card")(44,"mat-card-header")(45,"mat-card-title"),i(46,"Patient Information"),e()(),n(47,"mat-card-content")(48,"div",8)(49,"div",9)(50,"label"),i(51,"Patient Name"),e(),n(52,"span"),i(53),e()(),n(54,"div",9)(55,"label"),i(56,"Patient ID"),e(),n(57,"a",11),i(58),e()()()()(),n(59,"mat-card")(60,"mat-card-header")(61,"mat-card-title"),i(62,"Doctor Information"),e()(),n(63,"mat-card-content")(64,"div",8)(65,"div",9)(66,"label"),i(67,"Doctor Name"),e(),n(68,"span"),i(69),e()(),n(70,"div",9)(71,"label"),i(72,"Department"),e(),n(73,"span"),i(74),e()()()()(),n(75,"mat-card",12)(76,"mat-card-header")(77,"mat-card-title"),i(78,"Reason & Notes"),e()(),n(79,"mat-card-content")(80,"div",9)(81,"label"),i(82,"Reason for Visit"),e(),n(83,"p"),i(84),e()(),u(85,it,5,1,"div",13),e()()()()),a&2){let t=c();o(8),l("ngIf",t.appointment.status==="PENDING"||t.appointment.status==="CONFIRMED"),o(12),r(y(21,14,t.appointment.appointmentDate,"fullDate")),o(6),r(t.appointment.appointmentTime),o(5),C("",t.appointment.duration," minutes"),o(5),r(A(37,17,t.appointment.type)),o(5),l("ngClass",t.appointment.status.toLowerCase()),o(),C(" ",t.appointment.status," "),o(11),r(t.appointment.patientName),o(4),l("routerLink",S(19,Z,t.appointment.patientId)),o(),r(t.appointment.patientId),o(11),r(t.appointment.doctorName),o(5),r(t.appointment.departmentName),o(10),r(t.appointment.reason),o(),l("ngIf",t.appointment.notes)}}function ot(a,d){a&1&&(n(0,"div",21),h(1,"mat-spinner"),e())}var Et=(()=>{class a{constructor(t,p,m,g){this.route=t,this.router=p,this.appointmentService=m,this.snackBar=g,this.appointment=null}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&this.loadAppointment(+t)}loadAppointment(t){this.appointmentService.getAppointment(t).subscribe({next:p=>{this.appointment=p},error:()=>{this.router.navigate(["/appointments"])}})}confirmAppointment(){this.appointment&&this.appointmentService.confirmAppointment(this.appointment.id).subscribe({next:t=>{this.appointment=t,this.snackBar.open("Appointment confirmed","Close",{duration:3e3})}})}completeAppointment(){this.appointment&&this.appointmentService.completeAppointment(this.appointment.id).subscribe({next:t=>{this.appointment=t,this.snackBar.open("Appointment completed","Close",{duration:3e3})}})}cancelAppointment(){this.appointment&&confirm("Are you sure you want to cancel this appointment?")&&this.appointmentService.cancelAppointment(this.appointment.id).subscribe({next:t=>{this.appointment=t,this.snackBar.open("Appointment cancelled","Close",{duration:3e3})}})}static{this.\u0275fac=function(p){return new(p||a)(s(O),s(B),s(Y),s(W))}}static{this.\u0275cmp=E({type:a,selectors:[["app-appointment-detail"]],standalone:!0,features:[M],decls:3,vars:2,consts:[["loading",""],["class","container",4,"ngIf","ngIfElse"],[1,"container"],[1,"page-header-row"],["mat-icon-button","","routerLink","/appointments"],[1,"inline-header"],["class","actions",4,"ngIf"],[1,"detail-grid"],[1,"info-grid"],[1,"info-item"],[1,"status-chip",3,"ngClass"],[3,"routerLink"],[1,"full-width-card"],["class","info-item",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary",3,"routerLink"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","",3,"click"],[1,"loading-spinner"]],template:function(p,m){if(p&1&&u(0,at,86,21,"div",1)(1,ot,2,0,"ng-template",null,0,D),p&2){let g=I(2);l("ngIf",m.appointment)("ngIfElse",g)}},dependencies:[T,k,P,w,N,V,K,G,q,J,H,j,R,L,z,F,U,Q,X],styles:[".page-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.inline-header[_ngcontent-%COMP%]{display:inline;margin-left:8px}.actions[_ngcontent-%COMP%]{display:flex;gap:12px}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:16px}.full-width-card[_ngcontent-%COMP%]{grid-column:1/-1}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:16px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-bottom:4px}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:60px}.status-chip[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:16px;font-size:12px}"]})}}return a})();export{Et as AppointmentDetailComponent};
